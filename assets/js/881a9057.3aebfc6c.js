"use strict";(self.webpackChunkweihubeats_website=self.webpackChunkweihubeats_website||[]).push([[7294],{3966:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/IdleStateHandler-client-f66398ba25f12033220878686a44d3d2.png"},4658:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/IdleStateHandler-server-8fe873120612fe37b3f08ce1d54398a5.png"},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var r=t(6540);const l={},i=r.createContext(l);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),r.createElement(i.Provider,{value:n},e.children)}},8983:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"java/netty/Netty\u5fc3\u8df3\u68c0\u6d4b\u673a\u5236\u5b9e\u6218","title":"Netty\u5fc3\u8df3\u68c0\u6d4b\u673a\u5236\u5b9e\u6218","description":"\u5fc3\u8df3\u5206\u7c7b","source":"@site/docs/java/netty/Netty\u5fc3\u8df3\u68c0\u6d4b\u673a\u5236\u5b9e\u6218.md","sourceDirName":"java/netty","slug":"/java/netty/Netty\u5fc3\u8df3\u68c0\u6d4b\u673a\u5236\u5b9e\u6218","permalink":"/docs/java/netty/Netty\u5fc3\u8df3\u68c0\u6d4b\u673a\u5236\u5b9e\u6218","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/java/netty/Netty\u5fc3\u8df3\u68c0\u6d4b\u673a\u5236\u5b9e\u6218.md","tags":[],"version":"current","frontMatter":{},"sidebar":"netty","previous":{"title":"Netty\u4e2d\u7684\u5b9a\u65f6\u4efb\u52a1Timer\u4f7f\u7528\u53ca\u5b9e\u73b0\u539f\u7406","permalink":"/docs/java/netty/Netty\u4e2d\u7684\u5b9a\u65f6\u4efb\u52a1Timer\u4f7f\u7528\u53ca\u5b9e\u73b0\u539f\u7406"},"next":{"title":"WRITE_BUFFER_WATER_MARK","permalink":"/docs/java/netty/WRITE_BUFFER_WATER_MARK"}}');var l=t(4848),i=t(8453);const s={},a=void 0,d={},c=[{value:"\u5fc3\u8df3\u5206\u7c7b",id:"\u5fc3\u8df3\u5206\u7c7b",level:2},{value:"\u534f\u8bae\u5c42\u5fc3\u8df3\u68c0\u6d4b",id:"\u534f\u8bae\u5c42\u5fc3\u8df3\u68c0\u6d4b",level:2},{value:"\u5e94\u7528\u5c42\u5fc3\u8df3\u68c0\u6d4b",id:"\u5e94\u7528\u5c42\u5fc3\u8df3\u68c0\u6d4b",level:2},{value:"\u5b9e\u6218",id:"\u5b9e\u6218",level:2},{value:"\u8fde\u63a5\u7ba1\u7406Handler NettyConnectManageHandler",id:"\u8fde\u63a5\u7ba1\u7406handler-nettyconnectmanagehandler",level:3},{value:"Server",id:"server",level:3},{value:"Client",id:"client",level:3},{value:"\u8fd0\u884c\u7ed3\u679c",id:"\u8fd0\u884c\u7ed3\u679c",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function o(e){const n={code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"\u5fc3\u8df3\u5206\u7c7b",children:"\u5fc3\u8df3\u5206\u7c7b"}),"\n",(0,l.jsx)(n.p,{children:"\u4e00\u822c\u5fc3\u8df3\u6709\u4e24\u4e2a\u5c42\u9762"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u534f\u8bae\u5c42"}),"\n",(0,l.jsx)(n.li,{children:"\u5e94\u7528\u5c42"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4e3a\u4ec0\u4e48\u8981\u5206\u4e24\u4e2a\u5fc3\u8df3\u5462\uff1f\u5168\u90e8\u4ea4\u7ed9",(0,l.jsx)(n.code,{children:"tcp"}),"\u7684\u5fc3\u8df3(keepLive)\u4e0d\u5c31\u884c\u4e86\u5417\uff1f\u5e94\u7528\u8fd8\u81ea\u5df1\u53d1\u9001\u5fc3\u8df3\u5e72\u561b?"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd9\u91cc\u6211\u4eec\u4e3e\u4e00\u4e2a\u7b80\u5355\u4f8b\u5b50\u5c31\u8bf4\u660e\u60c5\u51b5"}),"\n",(0,l.jsxs)(n.p,{children:["\u76ee\u524d\u6211\u4eec\u6709\u4e00\u4e2a",(0,l.jsx)(n.code,{children:"client"}),"\u548c\u4e00\u4e2a",(0,l.jsx)(n.code,{children:"server"})]}),"\n",(0,l.jsxs)(n.p,{children:["\u67d0\u4e2a\u65f6\u95f4\u70b9",(0,l.jsx)(n.code,{children:"server"}),"\u867d\u7136\u6ca1\u6709\u5b95\u673a\uff0c\u7aef\u53e3\u8fd8\u5728\u76d1\u542c\uff0c\u4f46\u662f",(0,l.jsx)(n.code,{children:"server"}),"\u6bd4\u5982\u56e0\u4e3acpu\u6ee1\u4e86\u6216\u8005GC\u4e4b\u7c7b\u7684\u60c5\u51b5\uff0c\u5bfc\u81f4",(0,l.jsx)(n.code,{children:"server"}),"\u65e0\u6cd5\u5904\u7406",(0,l.jsx)(n.code,{children:"client"}),"\u7684\u8bf7\u6c42"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4f46\u662f\u5728",(0,l.jsx)(n.code,{children:"tcp"}),"\u5c42\u9762\u7684",(0,l.jsx)(n.code,{children:"keepLive"}),"\u6765\u8bf4\u8fd8\u662f\u6b63\u5e38\u7684\uff0c\u8fd9\u4e2a\u65f6\u5019",(0,l.jsx)(n.code,{children:"client"}),"\u5c31\u4f1a\u4e00\u76f4\u7b49\u5f85",(0,l.jsx)(n.code,{children:"server"}),"\u7684\u54cd\u5e94\uff0c\u4e00\u76f4\u8bf7\u6c42\u8fd9\u4e2a",(0,l.jsx)(n.code,{children:"server"}),"\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5b9e\u9645\u8fd9\u4e2a",(0,l.jsx)(n.code,{children:"server"}),"\u5df2\u7ecf\u65e0\u6cd5\u5904\u7406\u8bf7\u6c42\u4e86\u3002\u7c7b\u4f3c\u8fdb\u5165\u5047\u6b7b\u72b6\u6001"]}),"\n",(0,l.jsx)(n.h2,{id:"\u534f\u8bae\u5c42\u5fc3\u8df3\u68c0\u6d4b",children:"\u534f\u8bae\u5c42\u5fc3\u8df3\u68c0\u6d4b"}),"\n",(0,l.jsxs)(n.p,{children:["netty\u4e2d\u8981\u5f00\u59cb",(0,l.jsx)(n.code,{children:"tpc"}),"\u7684",(0,l.jsx)(n.code,{children:"keepLive"}),"\u5fc3\u8df3\u68c0\u6d4b\u673a\u5236\u4f7f\u7528\u5982\u4e0b\u65b9\u5f0f\u5373\u53ef"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:"ServerBootstrap bootstrap = new ServerBootstrap();\n            bootstrap.group(bossGroup, workerGroup) \n                     .channel(NioServerSocketChannel.class) \n                     // \u8bbe\u7f6eTCP Keepalive\n                     .childOption(ChannelOption.SO_KEEPALIVE, true)\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u6838\u5fc3\u5c31\u662f",(0,l.jsx)(n.code,{children:"ChannelOption.SO_KEEPALIVE, true"})]}),"\n",(0,l.jsx)(n.h2,{id:"\u5e94\u7528\u5c42\u5fc3\u8df3\u68c0\u6d4b",children:"\u5e94\u7528\u5c42\u5fc3\u8df3\u68c0\u6d4b"}),"\n",(0,l.jsxs)(n.p,{children:["\u5e94\u7528\u5c42\u5fc3\u8df3\u68c0\u6d4b",(0,l.jsx)(n.code,{children:"netty"}),"\u63d0\u4f9b\u4e86\u5f00\u7bb1\u5373\u7528\u7684\u5fc3\u8df3\u68c0\u6d4b\u7c7b",(0,l.jsx)(n.code,{children:"IdleStateHandler"}),"\uff0c\u8fd9\u4e2a\u7c7b\u53ef\u4ee5\u7528\u6765\u68c0\u6d4b",(0,l.jsx)(n.code,{children:"channel"}),"\u7684\u7a7a\u95f2\u72b6\u6001\uff0c\u5982\u679c\u8d85\u8fc7\u4e00\u5b9a\u65f6\u95f4\u6ca1\u6709\u8bfb\u5199\u64cd\u4f5c\uff0c\u5c31\u4f1a\u89e6\u53d1",(0,l.jsx)(n.code,{children:"userEventTriggered"}),"\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u8fd9\u4e2a\u65b9\u6cd5\u4e2d\u5904\u7406\u5fc3\u8df3\u903b\u8f91"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"IdleStateHandler"}),"\u7684\u6838\u5fc3\u6784\u9020\u51fd\u6570\u5c31\u4e00\u4e2a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:" public IdleStateHandler(boolean observeOutput,\n    long readerIdleTime, long writerIdleTime, long allIdleTime,\n    TimeUnit unit) {}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5176\u4ed6\u7684\u6784\u9020\u90fd\u662f\u5bf9\u8fd9\u4e2a\u6784\u9020\u7684\u91cd\u8f7d"}),"\n",(0,l.jsx)(n.p,{children:"\u6211\u4eec\u6765\u770b\u770b\u8fd9\u4e2a\u51e0\u4e2a\u53c2\u6570"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["observeOutput \u9ed8\u8ba4",(0,l.jsx)(n.code,{children:"false"}),",\u8fd9\u4e2a\u53c2\u6570\u63a7\u5236\u662f\u5426\u89c2\u5bdf\u51fa\u7ad9\u6570\u636e\uff0c\u4ee5\u51b3\u5b9a\u4e00\u4e2a\u8fde\u63a5\u662f\u5426\u5904\u4e8e\u7a7a\u95f2\u72b6\u6001\u3002\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u5f53\u6709\u51fa\u7ad9\u6570\u636e\u65f6\uff08\u5373\u6570\u636e\u4eceNetty\u7684\u51fa\u7ad9\u7f13\u51b2\u533a\u5199\u5165\u5230\u64cd\u4f5c\u7cfb\u7edf\u7684socket\u53d1\u9001\u7f13\u51b2\u533a\uff09\uff0c\u5219\u8ba4\u4e3a\u8fd9\u4e2a\u8fde\u63a5\u4e0d\u662f\u5199\u7a7a\u95f2\u7684\u3002\n\u8fd9\u5bf9\u4e8e\u90a3\u4e9b\u6709\u6f5c\u5728\u7684\u5199\u64cd\u4f5c\uff0c\u4f46\u6570\u636e\u53ef\u80fd\u4f1a\u5728Netty\u7684\u51fa\u7ad9\u7f13\u51b2\u533a\u91cc\u505c\u7559\u8f83\u957f\u65f6\u95f4\u7684\u60c5\u51b5\u5f88\u6709\u7528\u3002\u8bbe\u7f6e\u4e3afalse\u65f6\uff0c\u53ea\u8003\u8651\u7528\u6237\u4ee3\u7801\u5c42\u9762\u7684\u5199\u64cd\u4f5c"]}),"\n",(0,l.jsxs)(n.li,{children:["readerIdleTime \u8bfb\u7a7a\u95f2\u65f6\u95f4\uff0c\u5373\u591a\u957f\u65f6\u95f4\u6ca1\u6709\u8bfb\u64cd\u4f5c\uff0c\u5c31\u4f1a\u89e6\u53d1",(0,l.jsx)(n.code,{children:"userEventTriggered"}),"\u65b9\u6cd5"]}),"\n",(0,l.jsxs)(n.li,{children:["writerIdleTime \u5199\u7a7a\u95f2\u65f6\u95f4\uff0c\u5373\u591a\u957f\u65f6\u95f4\u6ca1\u6709\u5199\u64cd\u4f5c\uff0c\u5c31\u4f1a\u89e6\u53d1",(0,l.jsx)(n.code,{children:"userEventTriggered"}),"\u65b9\u6cd5"]}),"\n",(0,l.jsxs)(n.li,{children:["allIdleTime \u8bfb\u5199\u7a7a\u95f2\u65f6\u95f4\uff0c\u5373\u591a\u957f\u65f6\u95f4\u6ca1\u6709\u8bfb\u5199\u64cd\u4f5c\uff0c\u5c31\u4f1a\u89e6\u53d1",(0,l.jsx)(n.code,{children:"userEventTriggered"}),"\u65b9\u6cd5"]}),"\n",(0,l.jsx)(n.li,{children:"unit \u65f6\u95f4\u5355\u4f4d"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u5b9e\u6218",children:"\u5b9e\u6218"}),"\n",(0,l.jsx)(n.p,{children:"\u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45\uff0c\u7edd\u77e5\u6b64\u4e8b\u8981\u8eac\u884c"}),"\n",(0,l.jsxs)(n.p,{children:["\u6211\u4eec\u57fa\u4e8e",(0,l.jsx)(n.code,{children:"IdleStateHandler"}),"\u6765\u68c0\u6d4b\u7ba1\u7406\u6211\u4eec\u8fde\u63a5\u8bd5\u8bd5\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u8fde\u63a5\u7ba1\u7406handler-nettyconnectmanagehandler",children:"\u8fde\u63a5\u7ba1\u7406Handler NettyConnectManageHandler"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"NettyConnectManageHandler"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'@ChannelHandler.Sharable\npublic class NettyConnectManageHandler extends ChannelDuplexHandler {\n\n    @Override\n    public void userEventTriggered(ChannelHandlerContext ctx, Object evt) throws Exception {\n        if (evt instanceof IdleStateEvent) {\n            IdleStateEvent event = (IdleStateEvent) evt;\n            if (event.state().equals(IdleState.ALL_IDLE)) {\n                System.out.println("[xiaozou] \u89e6\u53d1 \u8bfb\u5199\u7a7a\u95f2\u4e8b\u4ef6");\n                ctx.writeAndFlush("Closing connection due to idle timeout...")\n                    .addListener((ChannelFutureListener) future -> {\n                        if (future.isSuccess()) {\n                            System.out.println("[xiaozou] \u6d88\u606f\u53d1\u9001\u6210\u529f\uff0c\u5173\u95ed\u8fde\u63a5");\n                            future.channel().close();\n                        } else {\n                            System.out.println("[xiaozou] \u6d88\u606f\u53d1\u9001\u5931\u8d25");\n                            future.cause().printStackTrace();\n                        }\n                    });\n            }\n        }\n        ctx.fireUserEventTriggered(evt);\n\n    }\n\n    @Override\n    public void channelInactive(ChannelHandlerContext ctx) throws Exception {\n        System.out.println("[xiaozou] \u8fde\u63a5\u65ad\u5f00");\n        super.channelInactive(ctx);\n        ctx.channel().close();\n    }\n\n    @Override\n    public void channelActive(ChannelHandlerContext ctx) throws Exception {\n        System.out.println("[xiaozou] \u8fde\u63a5\u5efa\u7acb");\n        super.channelActive(ctx);\n    }\n\n    @Override\n    public void channelUnregistered(ChannelHandlerContext ctx) throws Exception {\n        System.out.println("[xiaozou] \u8fde\u63a5\u53d6\u6d88\u6ce8\u518c");\n        super.channelUnregistered(ctx);\n    }\n\n    @Override\n    public void channelRegistered(ChannelHandlerContext ctx) throws Exception {\n        System.out.println("[xiaozou] \u8fde\u63a5\u6ce8\u518c");\n        super.channelRegistered(ctx);\n    }\n\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u8fd9\u91cc\u6211\u4eec\u4e3b\u8981\u662f\u5bf9\u89e6\u53d1\u4e86",(0,l.jsx)(n.code,{children:"IdleStateEvent"}),"\u4e8b\u4ef6\u8fdb\u884c\u5904\u7406\uff0c\u5982\u679c\u662f",(0,l.jsx)(n.code,{children:"ALL_IDLE"}),"\uff0c\u6211\u4eec\u5c31\u5173\u95ed\u8fde\u63a5"]}),"\n",(0,l.jsx)(n.h3,{id:"server",children:"Server"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'public class XiaoZouHeartBeatServer {\n\n    public static void main(String[] args) throws Exception {\n        EventLoopGroup bossGroup = new NioEventLoopGroup();\n        EventLoopGroup workerGroup = new NioEventLoopGroup();\n        try {\n            ServerBootstrap bootstrap = new ServerBootstrap();\n            NettyConnectManageHandler manageHandler = new NettyConnectManageHandler();\n            bootstrap.group(bossGroup, workerGroup).channel(NioServerSocketChannel.class).childHandler(new ChannelInitializer<SocketChannel>() {\n                @Override\n                protected void initChannel(SocketChannel ch) {\n                    ch.pipeline()\n                        .addLast(StringDecoder.class.getSimpleName(), new StringDecoder())\n                        .addLast(StringEncoder.class.getSimpleName(), new StringEncoder())\n                        .addLast(new IdleStateHandler(0, 0, 10))\n                        .addLast(manageHandler)\n                        .addLast(new ReadMsgHandler());\n\n                }\n            });\n            ChannelFuture future = bootstrap.bind(9000).sync();\n            System.out.println("xiaozou netty server start done.");\n            future.channel().closeFuture().sync();\n        } finally {\n            bossGroup.shutdownGracefully();\n            workerGroup.shutdownGracefully();\n        }\n    }\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"server"}),"\u4e3b\u8981\u6dfb\u52a0\u4e86",(0,l.jsx)(n.code,{children:"IdleStateHandler"}),"\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u7684\u662f\u8bfb\u5199\u7a7a\u95f2\u65f6\u95f4\u4e3a10\u79d2\uff0c\u5982\u679c10\u79d2\u6ca1\u6709\u8bfb\u5199\u64cd\u4f5c\uff0c\u6211\u4eec\u5c31\u5173\u95ed\u8fde\u63a5"]}),"\n",(0,l.jsx)(n.h3,{id:"client",children:"Client"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'public class XiaoZouHeartBeatClient {\n\n    public static void main(String[] args) throws Exception {\n        EventLoopGroup eventLoopGroup = new NioEventLoopGroup();\n        try {\n            Bootstrap bootstrap = new Bootstrap();\n            NettyConnectManageHandler handler = new NettyConnectManageHandler();\n            bootstrap.group(eventLoopGroup).channel(NioSocketChannel.class)\n                .handler(new ChannelInitializer<SocketChannel>() {\n                    @Override\n                    protected void initChannel(SocketChannel ch) {\n                        ch.pipeline()\n                            .addLast(StringDecoder.class.getSimpleName(), new StringDecoder())\n                            .addLast(StringEncoder.class.getSimpleName(), new StringEncoder())\n                            .addLast(new IdleStateHandler(0, 0, 5))\n                            .addLast(handler)\n                            .addLast(new ReadMsgHandler());\n                    }\n                });\n            Channel channel = bootstrap.connect("127.0.0.1", 9000).sync().channel();\n            System.out.println("xiaozou netty client start done.");\n            Random random = new Random();\n            while (channel.isActive()) {\n                int i = random.nextInt(8);\n                System.out.println("random value is " + i);\n                TimeUnit.SECONDS.sleep(i);\n                channel.writeAndFlush(HeartBeatConstant.HEART_BEAT);\n            }\n\n        } finally {\n            eventLoopGroup.shutdownGracefully();\n        }\n\n    }\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"client"}),"\u6211\u4eec\u4e5f\u6dfb\u52a0\u4e86",(0,l.jsx)(n.code,{children:"IdleStateHandler"}),"\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u7684\u662f\u8bfb\u5199\u7a7a\u95f2\u65f6\u95f4\u4e3a5\u79d2\uff0c\u5982\u679c5\u79d2\u6ca1\u6709\u8bfb\u5199\u64cd\u4f5c\uff0c\u6211\u4eec\u5c31\u5173\u95ed\u8fde\u63a5"]}),"\n",(0,l.jsx)(n.h2,{id:"\u8fd0\u884c\u7ed3\u679c",children:"\u8fd0\u884c\u7ed3\u679c"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"server"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"IdleStateHandler-server.png",src:t(4658).A+"",width:"772",height:"160"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"client"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"IdleStateHandler-server.png",src:t(3966).A+"",width:"429",height:"269"})}),"\n",(0,l.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,l.jsx)(n.p,{children:"\u4e0a\u9762\u7684\u4ee3\u7801\u6211\u4eec\u4e3b\u8981\u662f\u5ba2\u6237\u7aef\u89e6\u53d1\u4e86\u7a7a\u95f2\u8bfb\u5199\u4e8b\u4ef6\uff0c\u7136\u540e\u8fdb\u884c\u4e86\u8fde\u63a5\u5173\u95ed\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u53ef\u4ee5\u770b\u5230",(0,l.jsx)(n.code,{children:"IdleStateHandler"}),"\u5fc3\u8df3\u662f\u4e00\u4e2a\u5355\u5411\u7684\u5fc3\u8df3\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u8fd9\u91cc\u6211\u4eec\u6f14\u793a\u7684\u662f",(0,l.jsx)(n.code,{children:"client"}),"\u548c",(0,l.jsx)(n.code,{children:"server"}),"\u90fd\u6709\u5fc3\u8df3\u68c0\u6d4b\u3002\n\u6bd4\u5982",(0,l.jsx)(n.code,{children:"client"})," 5s\u6ca1\u6709\u8bfb\u5199\u64cd\u4f5c\uff0c\u5c31\u4f1a\u5173\u95ed\u8fde\u63a5\uff0c",(0,l.jsx)(n.code,{children:"server"}),"10s\u6ca1\u6709\u8bfb\u5199\u64cd\u4f5c\uff0c\u4e5f\u4f1a\u5173\u95ed\u8fde\u63a5\u3002"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}}}]);