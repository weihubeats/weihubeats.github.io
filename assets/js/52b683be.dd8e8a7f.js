"use strict";(self.webpackChunkweihubeats_website=self.webpackChunkweihubeats_website||[]).push([[3526],{644:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>o,contentTitle:()=>i,default:()=>l,frontMatter:()=>c,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"MQ/Kafka/\u76d1\u63a7/Kafka\u96c6\u7fa4\u76d1\u63a7\u8c03\u7814\u5b9e\u6218","title":"Kafka\u96c6\u7fa4\u76d1\u63a7\u8c03\u7814\u5b9e\u6218","description":"\u7b80\u4ecb","source":"@site/docs/MQ/Kafka/\u76d1\u63a7/Kafka\u96c6\u7fa4\u76d1\u63a7\u8c03\u7814\u5b9e\u6218.md","sourceDirName":"MQ/Kafka/\u76d1\u63a7","slug":"/MQ/Kafka/\u76d1\u63a7/Kafka\u96c6\u7fa4\u76d1\u63a7\u8c03\u7814\u5b9e\u6218","permalink":"/docs/MQ/Kafka/\u76d1\u63a7/Kafka\u96c6\u7fa4\u76d1\u63a7\u8c03\u7814\u5b9e\u6218","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/MQ/Kafka/\u76d1\u63a7/Kafka\u96c6\u7fa4\u76d1\u63a7\u8c03\u7814\u5b9e\u6218.md","tags":[],"version":"current","frontMatter":{},"sidebar":"Kafka","previous":{"title":"scala\u8bed\u6cd5\u7b80\u5355\u5b66\u4e60","permalink":"/docs/MQ/Kafka/\u6e90\u7801\u5206\u6790/scala\u8bed\u6cd5\u7b80\u5355\u5b66\u4e60"},"next":{"title":"kafka\u96c6\u7fa4\u6269\u5bb9\u5b9e\u6218","permalink":"/docs/MQ/Kafka/\u8fd0\u7ef4\u90e8\u7f72/kafka\u96c6\u7fa4\u6269\u5bb9\u5b9e\u6218"}}');var n=r(4848),d=r(8453);const c={},i=void 0,o={},t=[{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"jmx_exporter",id:"jmx_exporter",level:2},{value:"\u5b98\u65b9 kafka_exporter \u8ba8\u8bba",id:"\u5b98\u65b9-kafka_exporter-\u8ba8\u8bba",level:2},{value:"kafka_exporter",id:"kafka_exporter",level:2},{value:"bitnami/kafka-exporter docker compose",id:"bitnamikafka-exporter-docker-compose",level:3},{value:"grafana dashboard",id:"grafana-dashboard",level:2},{value:"\u6548\u679c",id:"\u6548\u679c",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2},{value:"\u53c2\u8003",id:"\u53c2\u8003",level:2}];function h(e){const a={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h2,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,n.jsxs)(a.p,{children:["kafka\u9ed8\u8ba4\u63d0\u4f9b\u4e86\u975e\u5e38\u591a\u57fa\u4e8e",(0,n.jsx)(a.code,{children:"JMX(Java Management Extensions)"}),"\u76f8\u5173\u7684\u76d1\u5de5\u6307\u6807\u3002"]}),"\n",(0,n.jsxs)(a.p,{children:["\u4f46\u662f\u5982\u679c\u6211\u4eec\u8981\u901a\u8fc7",(0,n.jsx)(a.code,{children:"Prometheus"})," + ",(0,n.jsx)(a.code,{children:"Grafana"}),"\u8fdb\u884c\u76d1\u63a7"]}),"\n",(0,n.jsxs)(a.p,{children:["\u8fd8\u9700\u8981\u5c06",(0,n.jsx)(a.code,{children:"JMX"}),"\u76f8\u5173\u7684\u6307\u6807\u8f6c\u6362\u4e3a",(0,n.jsx)(a.code,{children:"http"}),"\u63a5\u53e3\uff0c\u8ba9",(0,n.jsx)(a.code,{children:"Prometheus"}),"\u4f7f\u7528"]}),"\n",(0,n.jsx)(a.h2,{id:"jmx_exporter",children:"jmx_exporter"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.code,{children:"Prometheus"}),"\u5b98\u65b9\u63d0\u4f9b\u4e86\u76f8\u5173\u7684",(0,n.jsx)(a.code,{children:"agent"})]}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"https://github.com/prometheus/jmx_exporter",children:"github\u5730\u5740"}),": ",(0,n.jsx)(a.a,{href:"https://github.com/prometheus/jmx_exporter",children:"https://github.com/prometheus/jmx_exporter"})]}),"\n",(0,n.jsx)(a.p,{children:"\u4f46\u662f\u8fd8\u9700\u8981\u914d\u7f6e\u4e00\u4e9b\u6570\u636e\u89c4\u5219\uff0c\u6bd4\u5982\u914d\u7f6e\u6570\u636e\u683c\u5f0f\u5565\u7684\uff0c\u6bd4\u8f83\u9ebb\u70e6\u3002"}),"\n",(0,n.jsxs)(a.p,{children:["\u4e0b\u9762\u6211\u4eec\u8003\u8651\u4f7f\u7528\u5f00\u7bb1\u5373\u7528\u7684",(0,n.jsx)(a.code,{children:"docker"}),"\u5bb9\u5668"]}),"\n",(0,n.jsx)(a.h2,{id:"\u5b98\u65b9-kafka_exporter-\u8ba8\u8bba",children:"\u5b98\u65b9 kafka_exporter \u8ba8\u8bba"}),"\n",(0,n.jsxs)(a.p,{children:["\u5b98\u65b9\u65e9\u57282020\u5e74\u4e94\u6708\u5c31\u8ba8\u8bba\u8fc7\u63d0\u4f9b\u4e00\u4e2a\u5b98\u65b9\u7684",(0,n.jsx)(a.code,{children:"kafka_exporter"})]}),"\n",(0,n.jsxs)(a.p,{children:["\u4e5f\u5c31\u662f",(0,n.jsx)(a.a,{href:"https://cwiki.apache.org/confluence/display/KAFKA/KIP-575:+build+a+Kafka-Exporter+by+Java",children:"KIP-575"}),":",(0,n.jsx)(a.a,{href:"https://cwiki.apache.org/confluence/display/KAFKA/KIP-575:+build+a+Kafka-Exporter+by+Java",children:"https://cwiki.apache.org/confluence/display/KAFKA/KIP-575:+build+a+Kafka-Exporter+by+Java"})]}),"\n",(0,n.jsxs)(a.p,{children:["\u9057\u61be\u7684\u662f\u8fd9\u4e2a",(0,n.jsx)(a.code,{children:"KIP"}),"\u81f3\u4eca\u8fd8\u5904\u4e8eUnder Discussion(\u8ba8\u8bba\u4e2d)"]}),"\n",(0,n.jsx)(a.h2,{id:"kafka_exporter",children:"kafka_exporter"}),"\n",(0,n.jsxs)(a.p,{children:["\u793e\u533a\u6709\u4f19\u4f34\u63d0\u4f9b\u4e86\u57fa\u4e8e",(0,n.jsx)(a.code,{children:"docker"}),"\u90e8\u7f72\u7684",(0,n.jsx)(a.code,{children:"kafka-exporter"})]}),"\n",(0,n.jsx)(a.p,{children:"\u76ee\u524d\u4e3b\u6d41\u7684\u6709\u4e24\u4e2a\u955c\u50cf"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.a,{href:"https://hub.docker.com/r/danielqsj/kafka-exporter",children:"danielqsj/kafka_exporter"}),": ",(0,n.jsx)(a.a,{href:"https://hub.docker.com/r/danielqsj/kafka-exporter",children:"https://hub.docker.com/r/danielqsj/kafka-exporter"})]}),"\n"]}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.a,{href:"https://github.com/danielqsj/kafka_exporter",children:"github\u5730\u5740"})}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"danielqsj-kafka-exporter.png",src:r(5197).A+"",width:"1316",height:"656"})}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"https://github.com/danielqsj/kafka_exporter",children:"github\u5730\u5740"}),":",(0,n.jsx)(a.a,{href:"https://github.com/danielqsj/kafka_exporter",children:"https://github.com/danielqsj/kafka_exporter"})]}),"\n"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.a,{href:"https://hub.docker.com/r/bitnami/kafka-exporter",children:"bitnami/kafka-exporter"}),":",(0,n.jsx)(a.a,{href:"https://hub.docker.com/r/bitnami/kafka-exporter",children:"https://hub.docker.com/r/bitnami/kafka-exporter"})]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"bitnami-kafka-exporter.png",src:r(4726).A+"",width:"1330",height:"637"})}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:["\u53ef\u4ee5\u770b\u5230",(0,n.jsx)(a.code,{children:"bitnami/kafka-exporter"}),"\u5df2\u7ecf\u53d1\u51fa\u4e86\u5f03\u7528\u901a\u77e5\uff0c\u6240\u4ee5\u53ea\u80fd\u9009\u62e9",(0,n.jsx)(a.code,{children:"danielqsj"}),"\uff0c\u5b9e\u9645\u770b\u7b80\u4ecb",(0,n.jsx)(a.code,{children:"bitnami/kafka-exporter"}),"\u4e5f\u662f\u57fa\u4e8e",(0,n.jsx)(a.code,{children:"[danielqsj/kafka_exporter"}),"\u7684\u6e90\u4ee3\u7801\u6784\u5efa\u7684\n\u53ea\u4e0d\u8fc7",(0,n.jsx)(a.code,{children:"Bitnami"}),"\u7684\u955c\u50cf\u901a\u5e38\u90fd\u4f1a\u505a\u4e00\u4e9b\u5b89\u5168\u68c0\u67e5\u3001\u6027\u80fd\u4f18\u5316\u7b49"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["\u8fd9\u91cc\u6211\u5c31\u7528\u5e9f\u5f03\u7684",(0,n.jsx)(a.code,{children:"bitnami/kafka-exporter"}),"\u8bd5\u8bd5\uff0c\u53cd\u6b63\u4e24\u4e2a\u90fd\u6bd4\u8f83\u7b80\u5355\uff0c\u5148\u968f\u4fbf\u8bd5\u8bd5\u770b"]}),"\n",(0,n.jsx)(a.h3,{id:"bitnamikafka-exporter-docker-compose",children:"bitnami/kafka-exporter docker compose"}),"\n",(0,n.jsxs)(a.p,{children:["\u76f4\u63a5\u57fa\u4e8e",(0,n.jsx)(a.code,{children:"docker compose"}),"\u542f\u52a8\uff0c\u975e\u5e38\u65b9\u4fbf,\u5c5e\u4e8e\u6bd4\u8f83\u65e0\u8111\u7684\u65b9\u5f0f"]}),"\n",(0,n.jsxs)(a.p,{children:["vim ",(0,n.jsx)(a.code,{children:"docker-compose.yaml"})]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-yaml",children:"version: '3.1'\nservices:\n  kafka-exporter-test:\n    image: bitnami/kafka-exporter:latest\n    command:\n      - '--kafka.server=192.168.1.1:9092'\n      - '--kafka.server=192.168.1.2:9092'\n      - '--kafka.server=192.168.1.3:9092'\n      - '--kafka.version=3.5.0'\n    restart: always\n    ports:\n      - 9308:9308\n"})}),"\n",(0,n.jsx)(a.p,{children:"\u8fd9\u91cc\u6211\u4eec\u76f4\u63a5\u8fd0\u884c"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-shell",children:"docker-compose up -d\n"})}),"\n",(0,n.jsx)(a.p,{children:"\u4e4b\u540e\u76f4\u63a5\u8bbf\u95ee\u63a5\u53e3"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-shell",children:"http://192.168.1.1:9308/metrics\n"})}),"\n",(0,n.jsx)(a.p,{children:"\u5373\u53ef\u5f97\u5230\u76f8\u5173\u7684\u6307\u6807"}),"\n",(0,n.jsxs)(a.p,{children:["\u5982\u679c\u8981\u4f7f\u7528",(0,n.jsx)(a.code,{children:"danielqsj/kafka_exporter"}),"\u8fdb\u884c\u90e8\u7f72\uff0c\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u8fd9\u91cc\u6211\u7ed9\u51fa\u6211\u7684",(0,n.jsx)(a.code,{children:"docker-compose.yaml"}),"\u914d\u7f6e"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-yaml",children:'version: \'3.1\'\nservices:\n  kafka-exporter-test:\n    image: danielqsj/kafka-exporter \n    command: ["--kafka.server=192.168.1.1:9092", "--kafka.server=192.168.1.2:9092", "--kafka.server=192.168.1.3:9092"]\n    ports:\n      - 9308:9308\n    restart: always\n'})}),"\n",(0,n.jsx)(a.p,{children:"\u542f\u52a8\u65b9\u5f0f\u548c\u4e0a\u9762\u4e00\u6837"}),"\n",(0,n.jsx)(a.h2,{id:"grafana-dashboard",children:"grafana dashboard"}),"\n",(0,n.jsxs)(a.p,{children:["\u81f3\u4e8e",(0,n.jsx)(a.code,{children:"grafana"}),"\u7684",(0,n.jsx)(a.code,{children:"dashboard"}),"\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728",(0,n.jsx)(a.code,{children:"grafana"}),"\u7684\u5b98\u65b9\u7f51\u7ad9\u641c\u7d22",(0,n.jsx)(a.code,{children:"kafka"}),"\uff0c\u6709\u5f88\u591a\u73b0\u6210\u7684",(0,n.jsx)(a.code,{children:"dashboard"}),"\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528"]}),"\n",(0,n.jsx)(a.p,{children:"\u8fd9\u91cc\u53ef\u4ee5\u968f\u4fbf\u627e\u4e86\u51e0\u4e2a\uff0c\u81ea\u5df1\u53ef\u4ee5\u8003\u8651\u5728\u8fd9\u4e2a\u57fa\u7840\u4e0a\u9762\u6539\u4e00\u6539"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://grafana.com/grafana/dashboards/21078-kafka-dashboard-cn-20240520-starsl-cn/",children:"https://grafana.com/grafana/dashboards/21078-kafka-dashboard-cn-20240520-starsl-cn/"})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://grafana.com/grafana/dashboards/18276-kafka-dashboard/",children:"https://grafana.com/grafana/dashboards/18276-kafka-dashboard/"})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://grafana.com/grafana/dashboards/7589-kafka-exporter-overview/",children:"https://grafana.com/grafana/dashboards/7589-kafka-exporter-overview/"})}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.code,{children:"bitnami"}),"\u793e\u533a\u5b98\u65b9\u7ed9\u51fa\u6765\u7684dashboard\u662f",(0,n.jsx)(a.code,{children:"https://grafana.com/grafana/dashboards/7589-kafka-exporter-overview/"})]}),"\n",(0,n.jsxs)(a.p,{children:["\u76d1\u63a7\u6570\u636e\u975e\u5e38\u7b80\u5355\n",(0,n.jsx)(a.img,{alt:"grafana-dashboard-7589-kafka.png",src:r(1963).A+"",width:"1476",height:"953"})]}),"\n",(0,n.jsxs)(a.p,{children:["\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528",(0,n.jsx)(a.code,{children:"https://grafana.com/grafana/dashboards/21078-kafka-dashboard-cn-20240520-starsl-cn/"}),"\u8fd9\u4e2a\u4eea\u8868\u76d8\u770b\u770b"]}),"\n",(0,n.jsxs)(a.p,{children:["\u6211\u4eec\u542f\u52a8\u597d",(0,n.jsx)(a.code,{children:"Grafana"}),"+ ",(0,n.jsx)(a.code,{children:"Prometheus"})]}),"\n",(0,n.jsxs)(a.p,{children:["\u7136\u540e\u914d\u7f6e\u6570\u636e\u6e90\uff0c\u597d\u5bfc\u5165",(0,n.jsx)(a.code,{children:"dashboard"})]}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:["\u4e0d\u61c2\u53ef\u4ee5\u53c2\u8003\u6211\u4e4b\u524d\u7684\u535a\u6587:",(0,n.jsx)(a.a,{href:"https://weihubeats.blog.csdn.net/article/details/139432417",children:"Docker compose \u90e8\u7f72Grafana+Prometheus\u5b9e\u73b0java\u5e94\u7528JVM\u76d1\u63a7"})]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"\u6548\u679c",children:"\u6548\u679c"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:"grafana-dashboard-21078-kafka.png",src:r(1938).A+"",width:"2272",height:"1151"})}),"\n",(0,n.jsx)(a.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,n.jsxs)(a.p,{children:["\u603b\u7684\u6765\u8bf4\u672c\u6b21\u5bf9",(0,n.jsx)(a.code,{children:"broker"}),"\u7684\u76d1\u63a7\u5e02\u9762\u4e0a\u7684\u9009\u62e9\u5e76\u4e0d\u591a\uff0c\u4e5f\u5e76\u6ca1\u6709\u5f88\u5b98\u65b9\u548c\u5e38\u7528\u7684",(0,n.jsx)(a.code,{children:"dashboard"}),"\u4f7f\u7528\uff0c\u5b9e\u9645\u7684\u4f7f\u7528\u8fd8\u9700\u8981\u81ea\u5df1\u591a\u5f00\u53d1\u7814\u7a76"]}),"\n",(0,n.jsxs)(a.p,{children:["\u5bf9\u4e8e3.x\u4ee5\u4e0a\u7684",(0,n.jsx)(a.code,{children:"kafka"}),"\uff0c\u5bf9\u4e8e",(0,n.jsx)(a.code,{children:"controller"}),"\u7684\u76d1\u63a7\u8fd8\u662f\u6bd4\u8f83\u5c11\u7684\u3002"]}),"\n",(0,n.jsx)(a.h2,{id:"\u53c2\u8003",children:"\u53c2\u8003"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://mp.weixin.qq.com/s/ZG3DjRoJ3IDeln-_KbvTDQ",children:"https://mp.weixin.qq.com/s/ZG3DjRoJ3IDeln-_KbvTDQ"})}),"\n"]})]})}function l(e={}){const{wrapper:a}={...(0,d.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},1938:(e,a,r)=>{r.d(a,{A:()=>s});const s=r.p+"assets/images/grafana-dashboard-21078-kafka-920596d4c6c9711915f312e9189613ae.png"},1963:(e,a,r)=>{r.d(a,{A:()=>s});const s=r.p+"assets/images/grafana-dashboard-7589-kafka-e57c3ceab78abf7e03091d010cb8b0af.png"},4726:(e,a,r)=>{r.d(a,{A:()=>s});const s=r.p+"assets/images/bitnami-kafka-exporter-3ed31449dbf35098fdb0669d6eabe61b.png"},5197:(e,a,r)=>{r.d(a,{A:()=>s});const s=r.p+"assets/images/danielqsj-kafka-exporter-5b0dc321b6a3c3e2c47d177196898ff6.png"},8453:(e,a,r)=>{r.d(a,{R:()=>c,x:()=>i});var s=r(6540);const n={},d=s.createContext(n);function c(e){const a=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),s.createElement(d.Provider,{value:a},e.children)}}}]);