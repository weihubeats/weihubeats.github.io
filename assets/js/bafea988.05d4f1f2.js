"use strict";(self.webpackChunkweihubeats_website=self.webpackChunkweihubeats_website||[]).push([[1065],{1248:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"MQ/Kafka/\u6e90\u7801\u5206\u6790/kafka\u6d88\u606f\u53d1\u9001\u6b63\u5e38\uff0c\u6d88\u8d39\u5f02\u5e38","title":"kafka\u6d88\u606f\u53d1\u9001\u6b63\u5e38\uff0c\u6d88\u8d39\u5f02\u5e38","description":"kafka version","source":"@site/docs/MQ/Kafka/\u6e90\u7801\u5206\u6790/kafka\u6d88\u606f\u53d1\u9001\u6b63\u5e38\uff0c\u6d88\u8d39\u5f02\u5e38.md","sourceDirName":"MQ/Kafka/\u6e90\u7801\u5206\u6790","slug":"/MQ/Kafka/\u6e90\u7801\u5206\u6790/kafka\u6d88\u606f\u53d1\u9001\u6b63\u5e38\uff0c\u6d88\u8d39\u5f02\u5e38","permalink":"/docs/MQ/Kafka/\u6e90\u7801\u5206\u6790/kafka\u6d88\u606f\u53d1\u9001\u6b63\u5e38\uff0c\u6d88\u8d39\u5f02\u5e38","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/MQ/Kafka/\u6e90\u7801\u5206\u6790/kafka\u6d88\u606f\u53d1\u9001\u6b63\u5e38\uff0c\u6d88\u8d39\u5f02\u5e38.md","tags":[],"version":"current","frontMatter":{},"sidebar":"Kafka","previous":{"title":"spring boot\u4e2dkafka\u6d88\u606f\u7684\u987a\u5e8f\u53d1\u9001\u548c\u6d88\u8d39","permalink":"/docs/MQ/Kafka/\u6700\u4f73\u5b9e\u8df5/spring boot\u4e2dkafka\u6d88\u606f\u7684\u987a\u5e8f\u53d1\u9001\u548c\u6d88\u8d39"},"next":{"title":"Kafka\u96c6\u7fa4\u76d1\u63a7\u8c03\u7814\u5b9e\u6218","permalink":"/docs/MQ/Kafka/\u76d1\u63a7/Kafka\u96c6\u7fa4\u76d1\u63a7\u8c03\u7814\u5b9e\u6218"}}');var n=r(4848),s=r(8453);const c={},i=void 0,d={},t=[{value:"kafka version",id:"kafka-version",level:2},{value:"\u80cc\u666f",id:"\u80cc\u666f",level:2},{value:"\u6392\u67e5",id:"\u6392\u67e5",level:2},{value:"\u6d88\u8d39\u7aef\u6253\u5370log",id:"\u6d88\u8d39\u7aef\u6253\u5370log",level:3},{value:"\u67e5\u770b\u6d88\u8d39\u8005\u72b6\u6001",id:"\u67e5\u770b\u6d88\u8d39\u8005\u72b6\u6001",level:3},{value:"\u4ec0\u4e48\u60c5\u51b5\u4f1a\u51fa\u73b0 The coordinator is not available",id:"\u4ec0\u4e48\u60c5\u51b5\u4f1a\u51fa\u73b0-the-coordinator-is-not-available",level:3},{value:"\u5220\u9664topic\u91cd\u5efa\u662f\u5426\u53ef\u884c",id:"\u5220\u9664topic\u91cd\u5efa\u662f\u5426\u53ef\u884c",level:3},{value:"\u662f\u5426\u662f__consumer_offsets\u51fa\u4e86\u95ee\u9898",id:"\u662f\u5426\u662f__consumer_offsets\u51fa\u4e86\u95ee\u9898",level:3},{value:"\u89e3\u51b3\u65b9\u5f0f",id:"\u89e3\u51b3\u65b9\u5f0f",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function l(e){const o={code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h2,{id:"kafka-version",children:"kafka version"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"kafka_2.13-3.5.0"}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"\u80cc\u666f",children:"\u80cc\u666f"}),"\n",(0,n.jsxs)(o.p,{children:["\u7ebf\u4e0a\u7684",(0,n.jsx)(o.code,{children:"kafka"}),"\u96c6\u7fa4\u8981\u8fdb\u884c\u6269\u5bb9\uff0c\u539f\u5148\u76842",(0,n.jsx)(o.code,{children:"broker"}),"\uff0c\u6269\u5bb9\u4e4b\u540e\u53d8\u6210\u4e86\u65b0\u589e3\u4e2a",(0,n.jsx)(o.code,{children:"broker"}),"\uff0c\u7136\u540e\u4e0b\u6389\u4e86\u539f\u5148\u8001\u7684",(0,n.jsx)(o.code,{children:"broker"}),"\u3002"]}),"\n",(0,n.jsx)(o.p,{children:"\u65b0\u96c6\u7fa4\u770b\u7740\u6ca1\u95ee\u9898\uff0c\u4f46\u662f\u51fa\u73b0\u4e86\u4e00\u4e2a\u95ee\u9898\u3002"}),"\n",(0,n.jsx)(o.p,{children:"\u6d88\u606f\u53d1\u9001\u90fd\u6b63\u5e38\uff0c\u4f46\u662f\u6d88\u606f\u6d88\u8d39\u5f02\u5e38"}),"\n",(0,n.jsx)(o.h2,{id:"\u6392\u67e5",children:"\u6392\u67e5"}),"\n",(0,n.jsx)(o.h3,{id:"\u6d88\u8d39\u7aef\u6253\u5370log",children:"\u6d88\u8d39\u7aef\u6253\u5370log"}),"\n",(0,n.jsx)(o.p,{children:"\u6d88\u8d39\u8005\u542f\u52a8\u540e\u4e00\u76f4\u6253\u5370\u5982\u4e0b\u5173\u952elog"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-java",children:"2024-06-14 09:54:23 DEBUG o.a.k.c.c.i.ConsumerCoordinator:887 - [Consumer clientId=consumer-gid_abaca-1, groupId=gid_abaca] Received FindCoordinator response ClientResponse(receivedTimeMs=1718330063896, latencyMs=285, disconnected=false, timedOut=false, requestHeader=RequestHeader(apiKey=FIND_COORDINATOR, apiVersion=4, clientId=consumer-gid_xiaozou-1, correlationId=61, headerVersion=2), responseBody=FindCoordinatorResponseData(throttleTimeMs=0, errorCode=0, errorMessage='', nodeId=0, host='', port=0, coordinators=[Coordinator(key='gid_xiaozou', nodeId=-1, host='', port=-1, errorCode=15, errorMessage='')]))\n2024-06-14 09:54:23 DEBUG o.a.k.c.c.i.ConsumerCoordinator:914 - [Consumer clientId=consumer-gid_abaca-1, groupId=gid_abaca] Group coordinator lookup failed: \n2024-06-14 09:54:23 DEBUG o.a.k.c.c.i.ConsumerCoordinator:276 - [Consumer clientId=consumer-gid_abaca-1, groupId=gid_abaca] Coordinator discovery failed, refreshing metadata\norg.apache.kafka.common.errors.CoordinatorNotAvailableException: The coordinator is not available.\n"})}),"\n",(0,n.jsxs)(o.p,{children:["\u53ef\u4ee5\u770b\u5230\u5173\u952e\u7684log\u662f",(0,n.jsx)(o.code,{children:"CoordinatorNotAvailableException: The coordinator is not available."})]}),"\n",(0,n.jsx)(o.h3,{id:"\u67e5\u770b\u6d88\u8d39\u8005\u72b6\u6001",children:"\u67e5\u770b\u6d88\u8d39\u8005\u72b6\u6001"}),"\n",(0,n.jsxs)(o.p,{children:["\u8fdb\u5165\u5230",(0,n.jsx)(o.code,{children:"kafka"}),"\u8fdb\u53bb",(0,n.jsx)(o.code,{children:"bin"}),"\u76ee\u5f55\u6267\u884c\u5982\u4e0b\u811a\u672c"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-shell",children:"./kafka-consumer-groups.sh --bootstrap-server <bootstrap.servers> --describe --group <your-consumer-group-id>\n"})}),"\n",(0,n.jsx)(o.p,{children:"\u8f93\u51fa\u5982\u4e0b\u4fe1\u606f"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-java",children:"Error: Executing consumer group command failed due to org.apache.kafka.common.errors.TimeoutException: Call(callName=describeGroups(api=FIND_COORDINATOR), deadlineMs=1718330591913, tries=42094, nextAllowedTryMs=1718330592017) timed out at 1718330591917 after 42094 attempt(s)\njava.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Call(callName=describeGroups(api=FIND_COORDINATOR), deadlineMs=1718330591913, tries=42094, nextAllowedTryMs=1718330592017) timed out at 1718330591917 after 42094 attempt(s)\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2005)\n        at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n        at kafka.admin.ConsumerGroupCommand$ConsumerGroupService.$anonfun$describeConsumerGroups$1(ConsumerGroupCommand.scala:543)\n        at scala.collection.StrictOptimizedMapOps.map(StrictOptimizedMapOps.scala:28)\n        at scala.collection.StrictOptimizedMapOps.map$(StrictOptimizedMapOps.scala:27)\n        at scala.collection.convert.JavaCollectionWrappers$AbstractJMapWrapper.map(JavaCollectionWrappers.scala:313)\n        at kafka.admin.ConsumerGroupCommand$ConsumerGroupService.describeConsumerGroups(ConsumerGroupCommand.scala:542)\n        at kafka.admin.ConsumerGroupCommand$ConsumerGroupService.collectGroupsOffsets(ConsumerGroupCommand.scala:558)\n        at kafka.admin.ConsumerGroupCommand$ConsumerGroupService.describeGroups(ConsumerGroupCommand.scala:367)\n        at kafka.admin.ConsumerGroupCommand$.run(ConsumerGroupCommand.scala:72)\n        at kafka.admin.ConsumerGroupCommand$.main(ConsumerGroupCommand.scala:59)\n        at kafka.admin.ConsumerGroupCommand.main(ConsumerGroupCommand.scala)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Call(callName=describeGroups(api=FIND_COORDINATOR), deadlineMs=1718330591913, tries=42094, nextAllowedTryMs=1718330592017) timed out at 1718330591917 after 42094 attempt(s)\nCaused by: org.apache.kafka.common.errors.DisconnectException: Cancelled describeGroups(api=FIND_COORDINATOR) request with correlation id 42096 due to node 6 being disconnected\n"})}),"\n",(0,n.jsxs)(o.p,{children:["\u770b\u7740\u662f\u67e5\u8be2\u4e0d\u5230",(0,n.jsx)(o.code,{children:"comsumer group"}),"\u7684\u4fe1\u606f\uff0c\u7136\u540e\u62a5\u4e86",(0,n.jsx)(o.code,{children:"TimeoutException"}),"\u5f02\u5e38,\u6ca1\u6709\u4ec0\u4e48\u6709\u7528\u7684\u4fe1\u606f"]}),"\n",(0,n.jsx)(o.h3,{id:"\u4ec0\u4e48\u60c5\u51b5\u4f1a\u51fa\u73b0-the-coordinator-is-not-available",children:"\u4ec0\u4e48\u60c5\u51b5\u4f1a\u51fa\u73b0 The coordinator is not available"}),"\n",(0,n.jsxs)(o.p,{children:["\u7f51\u4e0a\u6709\u4e00\u79cd\u8bf4\u6cd5\u662f\u5982\u679c",(0,n.jsx)(o.code,{children:"broker"}),"\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684",(0,n.jsx)(o.code,{children:"offsets.topic.replication.factor"}),"\u5fc5\u987b\u5c0f\u4e8e\u7b49\u4e8e",(0,n.jsx)(o.code,{children:"broker"}),"\u7684\u6570\u91cf\uff0c\u5426\u5219\u4f1a\u51fa\u73b0",(0,n.jsx)(o.code,{children:"The coordinator is not available"}),"\u7684\u95ee\u9898\u3002"]}),"\n",(0,n.jsxs)(o.p,{children:["\u6bd4\u5982",(0,n.jsx)(o.code,{children:"broker"}),"\u7684\u6570\u91cf\u662f3\uff0c",(0,n.jsx)(o.code,{children:"offsets.topic.replication.factor"}),"\u662f4\uff0c\u5c31\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u3002"]}),"\n",(0,n.jsxs)(o.p,{children:["\u5b9e\u9645\u6211\u8fd9\u8fb9\u662f\u4e0d\u4f1a\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a\u6211\u7684",(0,n.jsx)(o.code,{children:"broker"}),"\u6570\u91cf\u662f3\uff0c",(0,n.jsx)(o.code,{children:"offsets.topic.replication.factor"}),"\u914d\u7f6e\u7684\u662f2"]}),"\n",(0,n.jsx)(o.h3,{id:"\u5220\u9664topic\u91cd\u5efa\u662f\u5426\u53ef\u884c",children:"\u5220\u9664topic\u91cd\u5efa\u662f\u5426\u53ef\u884c"}),"\n",(0,n.jsxs)(o.p,{children:["\u5220\u9664",(0,n.jsx)(o.code,{children:"topic"}),"\u4e5f\u6ca1\u7528\uff0c\u8fd8\u662f\u4f1a\u51fa\u73b0",(0,n.jsx)(o.code,{children:"The coordinator is not available"}),"\u7684\u95ee\u9898"]}),"\n",(0,n.jsx)(o.h3,{id:"\u662f\u5426\u662f__consumer_offsets\u51fa\u4e86\u95ee\u9898",children:"\u662f\u5426\u662f__consumer_offsets\u51fa\u4e86\u95ee\u9898"}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsx)(o.code,{children:"kafka"}),"\u7684\u6d88\u8d39\u4f4d\u70b9\u4e3b\u8981\u901a\u8fc7",(0,n.jsx)(o.code,{children:"__consumer_offsets"}),"\u8fd9\u4e2atopic\u6765\u7ba1\u7406"]}),"\n",(0,n.jsxs)(o.p,{children:["\u7531\u4e8e\u672c\u6b21\u4e3a\u4e86\u8fc1\u79fb\u7b80\u5355\uff0c\u540c\u65f6\u7ebf\u4e0a\u7684\u4e1a\u52a1\u6570\u636e\u53ef\u4ee5\u4e22\u5f03\uff0c\u6240\u4ee5\u5e76\u6ca1\u6709\u8fdb\u884c",(0,n.jsx)(o.code,{children:"topic"}),"\u5206\u533a\u8fc1\u79fb\uff0c\u800c\u662f\u76f4\u63a5\u5220\u9664\u4e86",(0,n.jsx)(o.code,{children:"topic"}),"\uff0c\u7136\u540e\u91cd\u5efa",(0,n.jsx)(o.code,{children:"topic"}),"\u3002"]}),"\n",(0,n.jsxs)(o.p,{children:["\u7136\u540e\u6211\u4eec\u67e5\u770b",(0,n.jsx)(o.code,{children:"__consumer_offsets"}),"\u8fd9\u4e2a",(0,n.jsx)(o.code,{children:"topic"}),"\u7684\u5206\u533a\u60c5\u51b5\n",(0,n.jsx)(o.img,{alt:"consumer_offsets-topic.png",src:r(4780).A+"",width:"2305",height:"241"})]}),"\n",(0,n.jsxs)(o.p,{children:["\u70b9\u8fdb",(0,n.jsx)(o.code,{children:"topic"}),"\u8be6\u60c5\u53d1\u73b0 partition \u8fd8\u662f\u4ec5\u5728\u8001\u7684",(0,n.jsx)(o.code,{children:"broker"}),"\u4e2d\uff0c\u5373\u5df2\u7ecf\u4e0b\u6389\u7684topic\u3002\u8fd9\u5c31\u5bfc\u81f4\u65b0\u7684",(0,n.jsx)(o.code,{children:"broker"}),"\u6ca1\u6709",(0,n.jsx)(o.code,{children:"__consumer_offsets"}),"\u8fd9\u4e2a",(0,n.jsx)(o.code,{children:"topic"})]}),"\n",(0,n.jsx)(o.h2,{id:"\u89e3\u51b3\u65b9\u5f0f",children:"\u89e3\u51b3\u65b9\u5f0f"}),"\n",(0,n.jsxs)(o.p,{children:["\u5220\u9664\u6389",(0,n.jsx)(o.code,{children:"__consumer_offsets"}),"\u8fd9\u4e2a",(0,n.jsx)(o.code,{children:"topic"}),"\uff0c\u7136\u540e\u7cfb\u7edf\u4f1a\u81ea\u52a8\u91cd\u5efa\uff0c\u5c31\u53ef\u4ee5\u89e3\u51b3\u4e86\u3002"]}),"\n",(0,n.jsxs)(o.p,{children:["\u5982\u679c\u60f3\u66f4\u5e73\u6ed1\u7684\u65b9\u5f0f\u4e5f\u53ef\u4ee5\u8003\u8651\u5bf9",(0,n.jsx)(o.code,{children:"__consumer_offsets"}),"\u8fdb\u884c\u5206\u533a\u8fc1\u79fb\uff0c\u6ce8\u610f\u91cd\u5efa\u540e\u4f7f\u7528\u539f\u6765\u7684",(0,n.jsx)(o.code,{children:"comsumer group"}),"\u597d\u50cf\u6d88\u8d39\u8fd8\u662f\u4f1a\u6709\u95ee\u9898\uff0c\u5982\u679c\u4f7f\u7528\u539f\u6765\u7684",(0,n.jsx)(o.code,{children:"comsumer group"}),"\u8fd8\u662f\u6d88\u8d39\u5f02\u5e38\uff0c\u6362\u4e2a",(0,n.jsx)(o.code,{children:"comsumer group"}),"\u5c31\u597d\u4e86"]}),"\n",(0,n.jsx)(o.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,n.jsxs)(o.p,{children:["\u5982\u679ckafka\u80fd\u6b63\u5e38\u53d1\u9001\u6d88\u606f\uff0c\u4f46\u662f\u6d88\u8d39\u5f02\u5e38\uff0c\u4e00\u822c\u662f\u6d88\u8d39\u4f4d\u70b9\u51fa\u73b0\u4e86\u95ee\u9898\uff0c\u5373\u7ba1\u7406\u6d88\u8d39\u4f4d\u70b9",(0,n.jsx)(o.code,{children:"__consumer_offsets"}),"\u7684\u8fd9\u4e2a",(0,n.jsx)(o.code,{children:"toipc"})]}),"\n",(0,n.jsxs)(o.p,{children:["\u76ee\u524d\u6765\u770b\u65b0\u589e\u4e863\u4e2a",(0,n.jsx)(o.code,{children:"broker"})," kafka\u5e76\u6ca1\u6709\u81ea\u52a8\u5bf9",(0,n.jsx)(o.code,{children:"__consumer_offsets"}),"\u8fdb\u884c\u5206\u533a\u8fc1\u79fb\uff0c\u9700\u8981\u624b\u52a8\u8fdb\u884c\u8fc1\u79fb"]}),"\n",(0,n.jsxs)(o.p,{children:["\u6240\u4ee5\u540e\u7eed\u51fa\u73b0\u6d88\u8d39\u76f8\u5173\u7684\u95ee\u9898\u53ef\u4ee5\u4f18\u5148\u68c0\u67e5",(0,n.jsx)(o.code,{children:"__consumer_offsets"}),"\u8fd9\u4e2a",(0,n.jsx)(o.code,{children:"topic"}),"\u7684\u60c5\u51b5,\u6bd5\u7adf",(0,n.jsx)(o.code,{children:"kafka"}),"\u5f97\u6d88\u8d39\u4f4d\u70b9\u90fd\u4f9d\u8d56\u4e8e",(0,n.jsx)(o.code,{children:"__consumer_offsets"}),"\u8fd9\u4e2atopic"]})]})}function u(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},4780:(e,o,r)=>{r.d(o,{A:()=>a});const a=r.p+"assets/images/consumer_offsets-topic-952153d63e4c7aaba5fb6630e1bd7510.png"},8453:(e,o,r)=>{r.d(o,{R:()=>c,x:()=>i});var a=r(6540);const n={},s=a.createContext(n);function c(e){const o=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),a.createElement(s.Provider,{value:o},e.children)}}}]);