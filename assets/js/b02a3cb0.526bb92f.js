"use strict";(globalThis.webpackChunkweihubeats_website=globalThis.webpackChunkweihubeats_website||[]).push([[6854],{17737(e,s,n){n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"\u4e91\u539f\u751f/Kubernetes/\u4ece0\u52301\u56fe\u6587\u6559\u4f60\u5982\u4f55\u5c06spring boot\u9879\u76ee\u90e8\u7f72\u5230minikube\u4e2d\u53bb","title":"\u4ece0\u52301\u56fe\u6587\u6559\u4f60\u5982\u4f55\u5c06spring boot\u9879\u76ee\u90e8\u7f72\u5230minikube\u4e2d\u53bb","description":"\u8fd9\u91cc\u662fweihubeats,\u89c9\u5f97\u6587\u7ae0\u4e0d\u9519\u53ef\u4ee5\u5173\u6ce8\u516c\u4f17\u53f7\u5c0f\u594f\u6280\u672f\uff0c\u6587\u7ae0\u9996\u53d1\u3002\u62d2\u7edd\u8425\u9500\u53f7\uff0c\u62d2\u7edd\u6807\u9898\u515a","source":"@site/docs/\u4e91\u539f\u751f/Kubernetes/\u4ece0\u52301\u56fe\u6587\u6559\u4f60\u5982\u4f55\u5c06spring boot\u9879\u76ee\u90e8\u7f72\u5230minikube\u4e2d\u53bb.md","sourceDirName":"\u4e91\u539f\u751f/Kubernetes","slug":"/\u4e91\u539f\u751f/Kubernetes/\u4ece0\u52301\u56fe\u6587\u6559\u4f60\u5982\u4f55\u5c06spring boot\u9879\u76ee\u90e8\u7f72\u5230minikube\u4e2d\u53bb","permalink":"/docs/\u4e91\u539f\u751f/Kubernetes/\u4ece0\u52301\u56fe\u6587\u6559\u4f60\u5982\u4f55\u5c06spring boot\u9879\u76ee\u90e8\u7f72\u5230minikube\u4e2d\u53bb","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u4e91\u539f\u751f/Kubernetes/\u4ece0\u52301\u56fe\u6587\u6559\u4f60\u5982\u4f55\u5c06spring boot\u9879\u76ee\u90e8\u7f72\u5230minikube\u4e2d\u53bb.md","tags":[],"version":"current","frontMatter":{},"sidebar":"Kubernetes","previous":{"title":"Kubernetes\u4e2d\u7684Service Account\u662f\u4ec0\u4e48\u53ca\u5b9e\u6218","permalink":"/docs/\u4e91\u539f\u751f/Kubernetes/Kubernetes\u4e2d\u7684Service Account\u662f\u4ec0\u4e48\u53ca\u5b9e\u6218"}}');var i=n(74848),r=n(28453);const c={},d=void 0,l={},o=[{value:"\u6e90\u7801",id:"\u6e90\u7801",level:2},{value:"1. \u5b89\u88c5minikube",id:"1-\u5b89\u88c5minikube",level:2},{value:"2. \u4f7f Kubernetes \u4e0e\u672c\u5730 Docker \u4e00\u8d77\u5de5\u4f5c",id:"2-\u4f7f-kubernetes-\u4e0e\u672c\u5730-docker-\u4e00\u8d77\u5de5\u4f5c",level:2},{value:"3. \u9879\u76ee\u6253\u5305jar",id:"3-\u9879\u76ee\u6253\u5305jar",level:2},{value:"4. \u6253\u5305spring boot \u9879\u76ee\u4e3adocker\u955c\u50cf",id:"4-\u6253\u5305spring-boot-\u9879\u76ee\u4e3adocker\u955c\u50cf",level:2},{value:"5. \u521b\u5efa Deployment",id:"5-\u521b\u5efa-deployment",level:2},{value:"6. \u521b\u5efaService",id:"6-\u521b\u5efaservice",level:2},{value:"7. \u83b7\u53d6\u8bbf\u95eeurl",id:"7-\u83b7\u53d6\u8bbf\u95eeurl",level:2},{value:"Dashboard",id:"dashboard",level:2},{value:"\u53c2\u8003",id:"\u53c2\u8003",level:2}];function a(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\u8fd9\u91cc\u662fweihubeats,\u89c9\u5f97\u6587\u7ae0\u4e0d\u9519\u53ef\u4ee5\u5173\u6ce8\u516c\u4f17\u53f7",(0,i.jsx)(s.strong,{children:"\u5c0f\u594f\u6280\u672f"}),"\uff0c\u6587\u7ae0\u9996\u53d1\u3002\u62d2\u7edd\u8425\u9500\u53f7\uff0c\u62d2\u7edd\u6807\u9898\u515a"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"\u6e90\u7801",children:"\u6e90\u7801"}),"\n",(0,i.jsx)(s.p,{children:"\u672c\u9879\u76ee\u535a\u6587\u7684\u6e90\u7801\u5df2\u4e0a\u4f20github\uff0c\u6709\u9700\u8981\u81ea\u53d6"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://github.com/weihubeats/weihubeats_demos/tree/master/spring-boot-demos/spring-boot-docker",children:"github"}),": ",(0,i.jsx)(s.a,{href:"https://github.com/weihubeats/weihubeats_demos/tree/master/spring-boot-demos/spring-boot-docker",children:"https://github.com/weihubeats/weihubeats_demos/tree/master/spring-boot-demos/spring-boot-docker"})]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"1-\u5b89\u88c5minikube",children:"1. \u5b89\u88c5minikube"}),"\n",(0,i.jsx)(s.p,{children:"\u53c2\u8003\u4e4b\u524d\u7684\u6559\u7a0b"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://weihubeats.blog.csdn.net/article/details/126353166",children:"Kubernetes\u5b66\u4e60(\u4e00)\u5b89\u88c5minikube"}),": ",(0,i.jsx)(s.a,{href:"https://weihubeats.blog.csdn.net/article/details/126353166",children:"https://weihubeats.blog.csdn.net/article/details/126353166"})]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"2-\u4f7f-kubernetes-\u4e0e\u672c\u5730-docker-\u4e00\u8d77\u5de5\u4f5c",children:"2. \u4f7f Kubernetes \u4e0e\u672c\u5730 Docker \u4e00\u8d77\u5de5\u4f5c"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"eval $(minikube docker-env)\n"})}),"\n",(0,i.jsx)(s.h2,{id:"3-\u9879\u76ee\u6253\u5305jar",children:"3. \u9879\u76ee\u6253\u5305jar"}),"\n",(0,i.jsxs)(s.p,{children:["\u6211\u4eec\u5148\u9700\u8981\u5c06\u9879\u76ee\u6253\u5305\uff0c\u6267\u884c",(0,i.jsx)(s.code,{children:"mvn install"}),"\u6216\u8005\u76f4\u63a5\u70b9\u51fbidea\u7684",(0,i.jsx)(s.code,{children:"install"})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(11827).A+"",width:"610",height:"521"})}),"\n",(0,i.jsx)(s.p,{children:"install\u5b8c\u6210\u540e\u4f1a\u53d1\u73b0\u6211\u4eec\u9879\u76ee\u76ee\u5f55\u591a\u51fa\u4e86\u4e00\u4e2atarget\u7684\u76ee\u5f55"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(78901).A+"",width:"322",height:"166"})}),"\n",(0,i.jsx)(s.h2,{id:"4-\u6253\u5305spring-boot-\u9879\u76ee\u4e3adocker\u955c\u50cf",children:"4. \u6253\u5305spring boot \u9879\u76ee\u4e3adocker\u955c\u50cf"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u9879\u76ee\u76ee\u5f55\u7ed3\u6784"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(4524).A+"",width:"862",height:"574"})}),"\n",(0,i.jsxs)(s.p,{children:["\u7b80\u5355\u7684",(0,i.jsx)(s.code,{children:"spring boot"})," \u9879\u76ee\uff0c\u548c\u666e\u901a\u9879\u76ee\u6ca1\u6709\u4efb\u4f55\u4e0d\u540c\uff0c\u552f\u4e00\u7684\u662f\u591a\u4e86\u4e00\u4e2a",(0,i.jsx)(s.code,{children:"Dockerfile"}),"\u6587\u4ef6"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Dockerfile"}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:'FROM openjdk:8-jre\nADD target/spring-boot-docker-1.0-SNAPSHOT.jar app.jar\nENTRYPOINT ["java","-jar","/app.jar"]\n'})}),"\n",(0,i.jsxs)(s.p,{children:["\u9996\u5148\u8fdb\u5165\u5230\u9879\u76ee",(0,i.jsx)(s.code,{children:"Dockerfile"}),"\u7684\u540c\u7ea7\u76ee\u5f55"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(68424).A+"",width:"1694",height:"156"})}),"\n",(0,i.jsx)(s.p,{children:"\u7136\u540e\u6267\u884cdocker \u6253\u5305\u955c\u50cf\u547d\u4ee4"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"docker build -t springboot-kubernetes:1.0 .\n"})}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"\u540e\u9762\u7684\u4e00\u4e2a\u70b9\u4ee3\u8868\u540c\u7ea7\u76ee\u5f55"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u8fd9\u91cc\u5c31\u663e\u793a\u6211\u4eec\u521b\u5efa\u955c\u50cf\u6210\u529f\u4e86"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(62599).A+"",width:"1692",height:"616"})}),"\n",(0,i.jsx)(s.h2,{id:"5-\u521b\u5efa-deployment",children:"5. \u521b\u5efa Deployment"}),"\n",(0,i.jsx)(s.p,{children:"\u6267\u884c\u5982\u4e0b\u547d\u4ee4"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"kubectl create deployment springboot-kubernetes --image=springboot-kubernetes:1.0 --port=9004\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(43361).A+"",width:"2342",height:"116"})}),"\n",(0,i.jsx)(s.p,{children:"\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"kubectl get pods\n"})}),"\n",(0,i.jsx)(s.p,{children:"\u67e5\u770b\u6211\u4eec\u7684pod\u662f\u5426\u5df2\u7ecf\u542f\u52a8\u6210\u529f"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(14874).A+"",width:"1258",height:"140"})}),"\n",(0,i.jsxs)(s.p,{children:["\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7",(0,i.jsx)(s.code,{children:"kubectl logs <pod_name>"}),"\u53bb\u67e5\u770b\u8be6\u7ec6log"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(79688).A+"",width:"3110",height:"848"})}),"\n",(0,i.jsx)(s.p,{children:"\u53ef\u4ee5\u770b\u5230\u542f\u52a8\u7684\u975e\u5e38\u987a\u5229"}),"\n",(0,i.jsx)(s.h2,{id:"6-\u521b\u5efaservice",children:"6. \u521b\u5efaService"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"Kubernetes"}),"\u5916\u90e8\u8bbf\u95ee\u670d\u52a1\u9700\u8981\u901a\u8fc7",(0,i.jsx)(s.code,{children:"Service"}),"\u53bb\u8bbf\u95ee\uff0c\u6240\u4ee5\u6211\u4eec\u521b\u5efa\u4e00\u4e2a",(0,i.jsx)(s.code,{children:"Service"})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"kubectl create service nodeport  springboot-kubernetes --tcp=9004:9004\n"})}),"\n",(0,i.jsx)(s.h2,{id:"7-\u83b7\u53d6\u8bbf\u95eeurl",children:"7. \u83b7\u53d6\u8bbf\u95eeurl"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.code,{children:"minikube service springboot-kubernetes"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(37936).A+"",width:"1660",height:"678"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(12036).A+"",width:"760",height:"388"})}),"\n",(0,i.jsx)(s.p,{children:"\u53ef\u4ee5\u770b\u5230\u662f\u53ef\u4ee5\u6b63\u5e38\u8bbf\u95ee\u7684"}),"\n",(0,i.jsx)(s.h2,{id:"dashboard",children:"Dashboard"}),"\n",(0,i.jsxs)(s.p,{children:["\u5982\u679c\u6211\u4eec\u5b89\u88c5\u4e86",(0,i.jsx)(s.code,{children:"Dashboard"}),"\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7",(0,i.jsx)(s.code,{children:"Dashboard"}),"\u53bb\u770b\u770b"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(52717).A+"",width:"3182",height:"1464"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(89229).A+"",width:"3112",height:"1590"})}),"\n",(0,i.jsx)(s.h2,{id:"\u53c2\u8003",children:"\u53c2\u8003"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.kindsonthegenius.com/setup-kubernetes-locally-deploy-springboot-application-step-by-step-tutorial/",children:"\u535a\u5ba2"})}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},12036(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/boot-demo-success-7825a53785afa56c91456179d957103c.png"},43361(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/boot-deployment-create-1b03a966caf27021fd98c2855acef3cf.png"},78901(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/boot-docker-target-533dc83da21d373c558c1afd7fcea7af.png"},11827(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/boot-docker-7f952d589fc7c2569b2455e9c4e994c9.png"},52717(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/dashboard-deployments-1ca99456d99c3cea37b11c741fe715b0.png"},89229(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/dashboard-services-a9605388b09e10bd5d131665852b3f25.png"},62599(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/docker-images-success-faa0b5153723fe1dabaf5d6569dd9f2b.png"},14874(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/kubectl-get-pods-24b283ebd0adaa08c2cd39dc03eaa74e.png"},68424(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/mac-boot-docker-catalogs-c3db8d5097b5e51831990dfdb5dcd8f7.png"},37936(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/minikube-service-373376bc03aecb3d79610281f3451bde.png"},79688(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/pod-log-deatil-971ebf445769f521885fe303924ba939.png"},4524(e,s,n){n.d(s,{A:()=>t});const t=n.p+"assets/images/spring-boot-docker-catalogs-159feb6dadb018a0ab73c545fe22eb85.png"},28453(e,s,n){n.d(s,{R:()=>c,x:()=>d});var t=n(96540);const i={},r=t.createContext(i);function c(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);